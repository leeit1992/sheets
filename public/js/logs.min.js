!function(t){"use strict";new(Backbone.View.extend({el:"#atl-page-handle-logs",formClassError:"md-input-danger",events:{"change .op-log-filter":"filterByUser","click .op-remove-log":"deleteLog","click .op-clear-log":"clearLogs"},errorFormTpl:_.template('<div class="uk-notify-message <%= classes %>">\t\t\t\t\t\t\t\t        <a class="uk-close"></a>\t\t\t\t\t\t\t\t        <div>\t\t\t\t\t\t\t\t           <%= message %>\t\t\t\t\t\t\t\t        </div>\t\t\t\t\t\t\t\t    </div>'),initialize:function(){},filterByUser:function(e){var a=t(e.currentTarget).val(),l=t(e.currentTarget).attr("data-type");t.ajax({url:OPDATA.adminUrl+"/filter-logs",type:"GET",data:{key:a,type:l},success:function(e){var a=JSON.parse(e);t(".op-logs-items").html(""),t.each(a.data,function(e,a){t(".op-logs-items").append('\t\t\t\t\t\t\t\t<tr class="op-log-item-'+a.id+'">                                    <td>'+a.logs+'</td>                                    <td class="uk-text-nowrap">                                        <a  class="op-remove-log" data-id="'+a.id+'" href="#"><i class="material-icons md-24">&#xE872;</i></a>                                    </td>                                </tr>')})}})},deleteLog:function(e){var a=t(e.currentTarget).attr("data-id");t.ajax({url:OPDATA.adminUrl+"/remove-log",type:"POST",data:{id:a},success:function(e){t(".op-log-item-"+a).remove(),UIkit.modal.alert("Delete Success!")}})},clearLogs:function(){t.ajax({url:OPDATA.adminUrl+"/clear-logs",type:"POST",data:{type:"clear"},success:function(e){t(".op-logs-items").html(""),UIkit.modal.alert("Clear Logs Success!")}})}}))}(jQuery);