!function(e){window.ATLLIB={validateEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},fileReader:function(t,a=""){var i=t.target.files[0];if(/\.(jpe?g|png|gif)$/i.test(i.name)){var s=new FileReader;s.onload=function(t){e(a).attr("src",t.target.result)},s.readAsDataURL(i)}},checkAll:function(t=null){return e(".atl-checkbox-primary-js",t).change(function(){this.checked?e(".atl-checkbox-child-js",t).each(function(t,a){e(a).prop("checked",!0)}):e(".atl-checkbox-child-js",t).each(function(t,a){e(a).prop("checked",!1)})}),!1},makeid:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},colSheetFormat:function(){return[{editor:"select",selectOptions:[OPDATA.user.all_info.user_code]},{type:"date",dateFormat:"DD/MM/YYYY",correctFormat:!0,defaultDate:"01/01/2017"},{},{},{},{},{type:"numeric"},{},{type:"numeric"},{type:"numeric"},{},{},{type:"numeric"},{type:"numeric"},{type:"date",dateFormat:"DD/MM/YYYY",correctFormat:!0,defaultDate:"01/01/2017"},{},{type:"numeric"},{},{editor:"select",selectOptions:["Oke","Out"]},{}]}},void 0!=typeof socket&&socket.on("user-"+OPDATA.user.id,function(t){e.ajax({url:OPDATA.adminUrl+"/autoload-inbox",type:"GET",data:{userId:OPDATA.user.id},success:function(t){var a=JSON.parse(t);e(".op-number-notice").text(a.length),e(".op-list-notice-box").html(""),e("#op-list-message-notice").html(""),e.each(a,function(t,a){e(".op-list-notice-box").append('                        <li>                            <div class="md-list-addon-element">                                <a href="#" class="user_action_image">                                    <img class="md-user-image" style="height: 34px;" src="'+a.user_avatar+'" alt="">                                </a>                            </div>                            <div class="md-list-content">                                <a class="op-check-message" data-id="'+a.id+'" data-uk-modal="{target:\'#modal_message_head_'+a.id+'\'}" href="#">                                    <span class="md-list-heading">'+a.user_name+'.</span>                                    <span class="uk-text-small uk-text-muted">'+a.op_message_title+".</span>                                </a>                            </div>                        </li>                        "),e("#op-list-message-notice").append('                            <div class="uk-modal" id="modal_message_head_'+a.id+'">                                <div class="uk-modal-dialog">                                    <div class="uk-modal-header">                                        <h3 class="uk-modal-title"><i class="material-icons md-24">&#xE554;</i> '+a.op_message_title+"</h3></h3>                                    </div>                                    <p>"+a.op_messages+'</p>                                    <div>                                        <p><i class="uk-icon-file-excel-o"></i> <a target="_blank" href="'+a.linkSheet+'">File Sheet</a></p>                                    </div>                                    <div class="uk-modal-footer uk-text-right">                                        <a class="md-btn md-btn-flat op-massage-forward" href="'+a.linkInbox+'">Goto Inbox </a>                                        <button type="button" class="md-btn md-btn-flat uk-modal-close">Close</button>                                    </div>                                </div>                            </div>                        ')}),e("body").append('<audio src="'+OPDATA.adminUrl+'/public/audio/newnotice.mp3" autoplay></audio>')}})}),e(document).on("click",".op-check-message",function(){var t=e(this).attr("data-id");e.ajax({url:OPDATA.adminUrl+"/update-inbox",type:"POST",data:{id:t}})})}(jQuery);