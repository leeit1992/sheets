!function(t){"use strict";new(Backbone.View.extend({el:"#op-login-page",formClassError:"md-input-danger",events:{"submit #op-register-user":"handleForm"},errorFormTpl:_.template('<div class="uk-notify-message <%= classes %>">\t\t\t\t\t\t\t\t        <a class="uk-close"></a>\t\t\t\t\t\t\t\t        <div>\t\t\t\t\t\t\t\t           <%= message %>\t\t\t\t\t\t\t\t        </div>\t\t\t\t\t\t\t\t    </div>'),initialize:function(){t(".op-user-color").spectrum({showPalette:!0,palette:[["black","white","blanchedalmond"],["rgb(255, 128, 0);","hsv 100 70 50","lightyellow"]],change:function(r){t(".op-user-color").val(r.toHexString())}})},handleForm:function(r){var e=this,s=t(".atl-required-js",this.el),a=new Array;t.each(s,function(r,s){var l=t(s).val();"email"===t(s).attr("type")&&(!1===ATLLIB.validateEmail(l)?(t(s).addClass(e.formClassError),a.push(r)):(t(s).removeClass(e.formClassError),a.splice(r,1))),0===l.length?(t(s).addClass(e.formClassError),a.push(r)):(t(s).removeClass(e.formClassError),a.splice(r,1))});var l=t("input[name=register_password]",this.el),o=t("input[name=register_password_repeat]",this.el);return 0===l.val().length||l.val()!=o.val()?(l.addClass(e.formClassError),o.addClass(e.formClassError),a.push(1)):(l.removeClass(e.formClassError),o.removeClass(e.formClassError)),0===a.length&&(this.handleUser(r),!1)},handleUser:function(r){var e=t("#op-register-user",this.el).serialize();altair_helpers.content_preloader_show(),t.ajax({url:OPDATA.adminUrl+"register-user",type:"POST",data:{formdata:e},success:function(t){altair_helpers.content_preloader_hide();var r=JSON.parse(t);UIkit.modal.alert(r.output)}})}}))}(jQuery);