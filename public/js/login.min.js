!function(r){"use strict";new(Backbone.View.extend({el:"#op-login-page",formClassError:"md-input-danger",events:{"submit #op-register-user":"handleForm"},errorFormTpl:_.template('<div class="uk-notify-message <%= classes %>">\t\t\t\t\t\t\t\t        <a class="uk-close"></a>\t\t\t\t\t\t\t\t        <div>\t\t\t\t\t\t\t\t           <%= message %>\t\t\t\t\t\t\t\t        </div>\t\t\t\t\t\t\t\t    </div>'),initialize:function(){},handleForm:function(t){var e=this,s=r(".atl-required-js",this.el),a=new Array;r.each(s,function(t,s){var l=r(s).val();"email"===r(s).attr("type")&&(!1===ATLLIB.validateEmail(l)?(r(s).addClass(e.formClassError),a.push(t)):(r(s).removeClass(e.formClassError),a.splice(t,1))),0===l.length?(r(s).addClass(e.formClassError),a.push(t)):(r(s).removeClass(e.formClassError),a.splice(t,1))});var l=r("input[name=register_password]",this.el),o=r("input[name=register_password_repeat]",this.el);return 0===l.val().length||l.val()!=o.val()?(l.addClass(e.formClassError),o.addClass(e.formClassError),a.push(1)):(l.removeClass(e.formClassError),o.removeClass(e.formClassError)),0===a.length&&(this.handleUser(t),!1)},handleUser:function(t){var e=r("#op-register-user",this.el).serialize();altair_helpers.content_preloader_show(),r.ajax({url:OPDATA.adminUrl+"/register-user",type:"POST",data:{formdata:e},success:function(r){altair_helpers.content_preloader_hide();var t=JSON.parse(r);UIkit.modal.alert(t.output)}})}}))}(jQuery);